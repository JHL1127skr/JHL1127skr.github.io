---
outline: deep
---

### 1ã€[ã€ŒåŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜ã€](https://leetcode.cn/problems/range-sum-query-immutable/)ğŸŸ¢

é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„  `nums`ï¼Œå®ç°`sumRange`æ–¹æ³•ï¼Œå¿«é€ŸæŸ¥è¯¢æŒ‡å®šåŒºé—´ä¹‹å†…çš„å…ƒç´ åˆï¼Œä¼šå¤šæ¬¡è°ƒç”¨ã€‚

ç¤ºä¾‹ï¼š

```
è¾“å…¥ï¼š nums = [-2, 0, 3, -5, 2, -1] ã€‚updates = [0, 2], [2, 5], [0, 5]
è¾“å‡ºï¼š[ 1, -1, -3]
```

æ€è·¯ï¼šåœ¨å®šä¹‰è¯¥æ•°ç»„çš„æ—¶å€™ï¼Œå°†æ–°æ•°ç»„çš„ç¬¬` index `é¡¹çš„å€¼å†™ä½œè¯¥æ•°ç»„`0ï½index-1`çš„ä¹‹å’Œã€‚è¿™æ ·å¦‚æœæˆ‘è¦è®¡ç®—`ç¬¬xé¡¹`å’Œ`ç¬¬yé¡¹`ä¹‹é—´çš„å€¼ï¼Œåªéœ€è¦ç”¨æ–°æ•°ç»„çš„`ç¬¬y+1é¡¹ - ç¬¬xé¡¹`å°±å¯å¾—åˆ°ç»“æœã€‚

```
nums = [-2, 0, 3, -5, 2] | [0,2] => -2 + 0 + 3 = 1
prefixSum = [0, -2, -2, 1, -4, -2] | [0,2]=> [2+1] - [0] => 1-0 =1
```

ä»£ç ï¼š

```js
const Fn = function (nums) {
    const prefixSum = [0]; //  åˆå§‹åŒ–å‰ç¼€å’Œæ•°ç»„
    for (let key = 1; key <= nums.length; key++) {
        prefixSum[key] = prefixSum[key - 1] + nums[key - 1];
    }
    this.nums = prefixSum;
};
NumArray.prototype.sumRange = function (left, right) {
    return this.nums[right + 1] - this.nums[left];
};
```

### 2ã€[ã€ŒäºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜ã€](https://leetcode.cn/problems/range-sum-query-2d-immutable/)ğŸŸ  æœªææ‡‚

é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªäºŒç»´çŸ©é˜µ `matrix`ï¼Œå®ç°`sumRegion`æ–¹æ³•ï¼Œè®¡ç®—å…¶å­çŸ©å½¢èŒƒå›´å†…å…ƒç´ çš„æ€»å’Œã€‚è¯¥å­çŸ©é˜µçš„ **å·¦ä¸Šè§’** ä¸º `(row1, col1)` ï¼Œ**å³ä¸‹è§’** ä¸º `(row2, col2)` 

ç¤ºä¾‹ï¼š

```
è¾“å…¥ï¼šmatrix = [
	[3,0,1,4,2],
	[5,6,3,2,1],
	[1,2,0,1,5],
	[4,1,0,1,7],
	[1,0,3,0,5]
]
updates = [2,1,4,3],[1,1,2,2],[1,2,2,4]

è¾“å‡ºï¼š[ 8, 11, 12]
```

æ€è·¯ï¼š

ä»£ç ï¼š