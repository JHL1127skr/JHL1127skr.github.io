import{_ as s,c as i,o as a,a4 as n}from"./chunks/framework.BX6OBtZC.js";const c=JSON.parse('{"title":"","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"blog/algorithm/Array/PrefixSum.md","filePath":"blog/algorithm/Array/PrefixSum.md"}'),p={name:"blog/algorithm/Array/PrefixSum.md"},e=n(`<h3 id="_1ã€ã€ŒåŒºåŸŸå’Œæ£€ç´¢-æ•°ç»„ä¸å¯å˜ã€ğŸŸ¢" tabindex="-1">1ã€<a href="https://leetcode.cn/problems/range-sum-query-immutable/" target="_blank" rel="noreferrer">ã€ŒåŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜ã€</a>ğŸŸ¢ <a class="header-anchor" href="#_1ã€ã€ŒåŒºåŸŸå’Œæ£€ç´¢-æ•°ç»„ä¸å¯å˜ã€ğŸŸ¢" aria-label="Permalink to &quot;1ã€[ã€ŒåŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜ã€](https://leetcode.cn/problems/range-sum-query-immutable/)ğŸŸ¢&quot;">â€‹</a></h3><p>é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œå®ç°<code>sumRange</code>æ–¹æ³•ï¼Œå¿«é€ŸæŸ¥è¯¢æŒ‡å®šåŒºé—´ä¹‹å†…çš„å…ƒç´ åˆï¼Œä¼šå¤šæ¬¡è°ƒç”¨ã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>è¾“å…¥ï¼š nums = [-2, 0, 3, -5, 2, -1] ã€‚updates = [0, 2], [2, 5], [0, 5]</span></span>
<span class="line"><span>è¾“å‡ºï¼š[ 1, -1, -3]</span></span></code></pre></div><p>æ€è·¯ï¼šåœ¨å®šä¹‰è¯¥æ•°ç»„çš„æ—¶å€™ï¼Œå°†æ–°æ•°ç»„çš„ç¬¬<code>index</code>é¡¹çš„å€¼å†™ä½œè¯¥æ•°ç»„<code>0ï½index-1</code>çš„ä¹‹å’Œã€‚è¿™æ ·å¦‚æœæˆ‘è¦è®¡ç®—<code>ç¬¬xé¡¹</code>å’Œ<code>ç¬¬yé¡¹</code>ä¹‹é—´çš„å€¼ï¼Œåªéœ€è¦ç”¨æ–°æ•°ç»„çš„<code>ç¬¬y+1é¡¹ - ç¬¬xé¡¹</code>å°±å¯å¾—åˆ°ç»“æœã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>nums = [-2, 0, 3, -5, 2] | [0,2] =&gt; -2 + 0 + 3 = 1</span></span>
<span class="line"><span>prefixSum = [0, -2, -2, 1, -4, -2] | [0,2]=&gt; [2+1] - [0] =&gt; 1-0 =1</span></span></code></pre></div><p>ä»£ç ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Fn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">nums</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> prefixSum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  åˆå§‹åŒ–å‰ç¼€å’Œæ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nums.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        prefixSum[key] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prefixSum[key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nums[key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.nums </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prefixSum;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NumArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sumRange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">right</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.nums[right </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.nums[left];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="_2ã€ã€ŒäºŒç»´åŒºåŸŸå’Œæ£€ç´¢-çŸ©é˜µä¸å¯å˜ã€ğŸŸ -æœªææ‡‚" tabindex="-1">2ã€<a href="https://leetcode.cn/problems/range-sum-query-2d-immutable/" target="_blank" rel="noreferrer">ã€ŒäºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜ã€</a>ğŸŸ  æœªææ‡‚ <a class="header-anchor" href="#_2ã€ã€ŒäºŒç»´åŒºåŸŸå’Œæ£€ç´¢-çŸ©é˜µä¸å¯å˜ã€ğŸŸ -æœªææ‡‚" aria-label="Permalink to &quot;2ã€[ã€ŒäºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜ã€](https://leetcode.cn/problems/range-sum-query-2d-immutable/)ğŸŸ  æœªææ‡‚&quot;">â€‹</a></h3><p>é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªäºŒç»´çŸ©é˜µ <code>matrix</code>ï¼Œå®ç°<code>sumRegion</code>æ–¹æ³•ï¼Œè®¡ç®—å…¶å­çŸ©å½¢èŒƒå›´å†…å…ƒç´ çš„æ€»å’Œã€‚è¯¥å­çŸ©é˜µçš„ <strong>å·¦ä¸Šè§’</strong> ä¸º <code>(row1, col1)</code> ï¼Œ<strong>å³ä¸‹è§’</strong> ä¸º <code>(row2, col2)</code></p><p>ç¤ºä¾‹ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>è¾“å…¥ï¼šmatrix = [</span></span>
<span class="line"><span>	[3,0,1,4,2],</span></span>
<span class="line"><span>	[5,6,3,2,1],</span></span>
<span class="line"><span>	[1,2,0,1,5],</span></span>
<span class="line"><span>	[4,1,0,1,7],</span></span>
<span class="line"><span>	[1,0,3,0,5]</span></span>
<span class="line"><span>]</span></span>
<span class="line"><span>updates = [2,1,4,3],[1,1,2,2],[1,2,2,4]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>è¾“å‡ºï¼š[ 8, 11, 12]</span></span></code></pre></div><p>æ€è·¯ï¼š</p><p>ä»£ç ï¼š</p>`,14),t=[e];function l(h,k,r,d,o,E){return a(),i("div",null,t)}const y=s(p,[["render",l]]);export{c as __pageData,y as default};
